{
	"name": "Turing Machine",
	"patterns": [
		{ "include": "#tape"},
		{ "include": "#finalStates"},
		{ "include": "#instruction" },
		{ "include": "#state"},
		{ "include": "#value"},
		{ "include": "#action"}
	],
	"repository": {
		"instruction": {
			"patterns": [
				{ "include": "#statement" }, 
				{ "include": "#comment" }
			]
		},
		"statement": {
			"begin": "\\s*\\(",
			"end": "\\)",
			"beginCaptures": {
				"0": { "name": "keyword.statement.open" }
			},
			"endCaptures": {
				"0": { "name": "keyword.statement.close" }
			},
			"patterns": [ { "include": "#state"}, { "include": "#value"}, { "include": "#action"}  ],
			"name": "keyword.statement"
		},
		"tape": {
			"begin": "\\s*\\{",
			"end": "\\}",
			"beginCaptures": {
				"0": { "name": "keyword.tape.open" }
			},
			"endCaptures": {
				"0": { "name": "keyword.tape.close" }
			},
			"patterns": [ { "include": "#state"}, { "include": "#value"} ],
			"name": "keyword.tape"
		},
		"finalStates": {
			"begin": "\\s*#define\\s*F\\s*=\\s*\\{",
			"end": "\\}",
			"beginCaptures": {
				"0": { "name": "keyword.finalStates.open" }
			},
			"endCaptures": {
				"0": { "name": "keyword.finalStates.close" }
			},
			"name": "keyword.finalStates",
			"patterns": [ { "include": "#state"} ]
		},
		"value": {
			"match": "\\s*(0|1)\\s*",
			"name": "keyword.value"
		},
		"comment": {
			"match": "//.*$",
			"name": "comment"
		},
		"state": {
			"match": "\\s*([A-Za-z]+[0-9])\\s*",
			"name": "keyword.state"
		},
		"action": {
			"match": "\\s*(H|L|R)\\s*",
			"name": "keyword.action"
		}
	},
	"scopeName": "source.tm"
}